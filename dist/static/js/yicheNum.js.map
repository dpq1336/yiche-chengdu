{"version":3,"sources":["yicheNum.js"],"names":["getData","url","data","result","$","ajax","type","param","JSON","stringify","dataType","async","success","postData","contentType","click","index","this","console","log","ids","renderDat","dataList","html","template","getListData","addClass","siblings","removeClass","eq","show","hide","publicParam","cid","ver","uid","setParamFun","ary","baseUrl","window","Bitauto","Login","isLogined","userId","initUrl","pageIndex","pageSize","startTime","endTime","res","status"],"mappings":"AA2CA,SAASA,QAAQC,EAAKC,GACpB,IAAIC,EAcJ,OAbAC,EAAEC,KAAK,CACLC,KAAM,MACNJ,KAAM,CACJK,MAAOC,KAAKC,UAAUP,IAGxBQ,SAAU,OACVT,IAAKA,EACLU,OAAO,EACPC,QAAS,SAAUV,GACjBC,EAASD,KAGNC,EAGT,SAASU,SAASZ,EAAKM,GACrB,IAAIJ,EAYJ,OAXAC,EAAEC,KAAK,CACLC,KAAM,OACNJ,KAAMM,KAAKC,UAAUF,GACrBO,YAAa,kCACbJ,SAAU,OACVT,IAAKA,EACLU,OAAO,EACPC,QAAS,SAAUV,GACjBC,EAASD,KAGNC,EA1ETC,EAAE,WACAA,EAAE,cAAcW,MAAM,WAIpB,IAAIC,EAAQZ,EAAEa,MAAMD,QAGpB,OAFAE,QAAQC,IAAIH,EAAO,SAEXA,GACN,KAAK,EAQL,KAAK,EAQL,KAAK,EAEHd,KAAKkB,IAAM,QACXC,UAAY,GACZC,SAAW,GACXlB,EAAE,gBAAgBmB,KAAKC,SAAS,gBAAiBH,YACjDI,cACA,MACF,QACE,OAEJrB,EAAEa,MAAMS,SAAS,UAAUC,WAAWC,YAAY,UAClDxB,EAAE,kBAAkByB,GAAGb,GAAOc,OAAOH,WAAWI,WAuCpD,IAAIC,YAAc,CAChBC,IAAO,MACPC,IAAO,QACPC,IAAO,YAGT,SAASC,YAAYC,GAEnB,OADAL,YAAmB,MAAIK,EAChBL,YAGT,IAAIM,QAAU,8BACVH,IAAM,EACNI,OAAOC,QAAQC,MAAMtC,OAAOuC,YAC9BP,IAAMI,OAAOC,QAAQC,MAAMtC,OAAOwC,QAEpC,IAAIrB,SAAW,GACXD,UAAY,GAEZuB,QAAUN,QAAU,8DAAgEH,IACpFjC,KAAO,CAET2C,UAAW,EACXC,SAAU,GACV1B,IAAK,QACL2B,UAAW,aACXC,QAAS,cAKX,SAASvB,cACPP,QAAQC,IAAI,YAAajB,KAAKkB,KAC9B,IAAI6B,EAAMpC,SAAS+B,QAASR,YAAYlC,OA0BtB,GAAd+C,EAAIC,QAAeD,EAAI/C,OACzBoB,SAAW2B,EAAI/C,KACfgB,QAAQC,IAAI,aAAcG,UAC1BD,UAAUC,SAAWA,SACrBJ,QAAQC,IAAIE,WACZjB,EAAE,gBAAgBmB,KAAKC,SAAS,gBAAiBH,aAGrDI","file":"yicheNum.js","sourcesContent":["$(function () {\n  $(\".tabbox li\").click(function () {\n    //获取点击的元素给其添加样式，讲其兄弟元素的样式移除\n    // $(this).addClass(\"active\").siblings().removeClass(\"active\");\n    //获取选中元素的下标\n    var index = $(this).index();\n    console.log(index, 'index');\n\n    switch (index) {\n      case 0:\n        // data.ids = '756'\n        data.ids = \"44005\" //todo 需修改\n        renderDat = {}\n        dataList = []\n        $('#dataListObj').html(template('data-list-tpl', renderDat));\n        getListData();\n        break;\n      case 1:\n        // data.ids = '450,24522'\n        data.ids = \"44005\" //todo 需修改\n        renderDat = {}\n        dataList = []\n        $('#dataListObj').html(template('data-list-tpl', renderDat));\n        getListData();\n        break;\n      case 2:\n        // data.ids = '3508'\n        data.ids = \"44005\" //todo 需修改\n        renderDat = {}\n        dataList = []\n        $('#dataListObj').html(template('data-list-tpl', renderDat));\n        getListData();\n        break;\n      default:\n        return\n    }\n    $(this).addClass(\"active\").siblings().removeClass(\"active\");\n    $(\".main_card>div\").eq(index).show().siblings().hide();\n    //   $(this).parent().siblings().children().eq(index).addClass(\"active\")\n    //       .siblings().removeClass(\"active\");\n  });\n});\n//get请求封装\nfunction getData(url, data) {\n  var result;\n  $.ajax({\n    type: \"GET\",\n    data: {\n      param: JSON.stringify(data)\n    },\n\n    dataType: 'json',\n    url: url,\n    async: false,\n    success: function (data) {\n      result = data;\n    }\n  });\n  return result;\n}\n\nfunction postData(url, param) {\n  var result;\n  $.ajax({\n    type: \"POST\",\n    data: JSON.stringify(param),\n    contentType: 'application/json; charset=utf-8',\n    dataType: 'json',\n    url: url,\n    async: false,\n    success: function (data) {\n      result = data;\n    }\n  });\n  return result;\n}\nvar publicParam = {\n  \"cid\": \"502\",\n  \"ver\": \"6.6.3\",\n  \"uid\": \"45022498\"\n};\n//增加公共参数\nfunction setParamFun(ary) {\n  publicParam[\"param\"] = ary\n  return publicParam\n}\n// var baseUrl = \"https://mapi.yiche.com\";//线上环境\nvar baseUrl = \"http://192.168.87.105:18769\"; //测试环境\nvar uid = 0; //公参uid\nif (window.Bitauto.Login.result.isLogined) {\n  uid = window.Bitauto.Login.result.userId;\n}\nvar dataList = []; //列表数据\nvar renderDat = {}; //渲染数据\n// 6.易车号(首页、二级页) http://wiki.bitautotech.com/pages/viewpage.action?pageId=13017195\nvar initUrl = baseUrl + \"/web_exhibition/api/v1/ych/news_list?cid=502&ver=6.6.3&uid=\" + uid; //列表接口\nvar data = {\n  // ids: '756', //多个活动ID,字符串逗号分隔 轿车 756、SUV/MPV450,24522 新能源 3508\n  pageIndex: 1, //页码\n  pageSize: 10, //每页条数\n  ids: \"44005\",\n  startTime: \"2018-11-23\",\n  endTime: \"2019-10-08\",\n  // startTime:2019-10-1,\n  // endTime:2019-12-31\n}\n// 请求列表 todo 需修改点击当前页卡 分别传不同的活动ID\nfunction getListData() {\n  console.log('易车号页卡活动id', data.ids);\n  var res = postData(initUrl, setParamFun(data));\n  // res = {\n  //   \"status\": \"1\",\n  //   \"message\": \"成功\",\n  //   \"data\": [{\n  //     \"id\": 442494,\n  //     \"contentType\": 2,\n  //     \"title\": \"10万能买的轿跑SUV 广州车展辣评东风风光iX5\",\n  //     \"coverImgs\": [\n  //       \"http://img4.bitautoimg.com/wapimg-300-0/video/2018/11/22/918f6778-961c-40a2-9683-ac10839f7857_.jpg\"\n  //     ],\n  //     \"commentCount\": 0,\n  //     \"visitCount\": 43261,\n  //     \"publishTime\": \"2018-11-22 20:15:19\",\n  //     \"jumpUrl\": \"http://vc.yiche.com/vplay/442494.html\",\n  //     \"userData\": {\n  //       \"uid\": 24654649,\n  //       \"followType\": 0,\n  //       \"showname\": \"辣车TV\",\n  //       \"avatarpath\": \"//img4.baa.bitautotech.com/newavatar/2017/06/01/24654649_120_2f5c741e-735e-453b-a257-252e5256021a.jpg\",\n  //       \"fanscount\": 638\n  //     },\n  //     \"userId\": 24654649\n  //   }]\n  // }\n  // console.log('res.data', res.data);\n  if (res.status == 1 && res.data) {\n    dataList = res.data;\n    console.log('易车号列表数据===', dataList);\n    renderDat.dataList = dataList\n    console.log(renderDat);\n    $('#dataListObj').html(template('data-list-tpl', renderDat));\n  }\n}\ngetListData();\n//懒加载\n// $(window).on('scroll', function () {\n//   var scrollT = document.documentElement.scrollTop || document.body.scrollTop; //滚动条的垂直偏移\n//   var scrollH = document.documentElement.scrollHeight || document.body.scrollHeight; //元素的整体高度\n//   var clientH = document.documentElement.clientHeight || document.body.clientHeight; //元素的可见高度\n//   if (scrollT >= scrollH - clientH - 100) {\n//     // console.log('loadMore', loadMore);\n//     if (loadMore) {\n//       videoParamData.pageIndex += 1;\n//       // $('.load_more').text('正在加载...');\n//       getVideoData();\n//     }\n//   }\n// });"]}